import{m as x,_ as m,r as _,o as a,c as r,b as s,D as M,F as D,G as y,H as B,f as p,g as h,q as d,t as v,J as g,P as L,p as w,j as S,I,Q as k,R as E,E as P,U,d as O,V as $}from"./index-CmAoRiTQ.js";const N={data(){return{isOpen:!1,menuItems:[{text:"Dashboard",icon:"bi bi-grid-1x2-fill",rota:"dashboard"},{text:"Simulações",icon:"bi bi-easel2-fill",rota:"listSimulations"},{text:"Perfil",icon:"bi bi-person-fill",rota:"profile"},{text:"Suporte",icon:"bi bi-question-circle-fill",rota:"support"}]}},methods:{...x(["logout"]),sair(){this.isOpen=!1,this.logout(),this.$router.push({name:"login"})}},watch:{isOpen(e){e?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")},$route(){this.isOpen=!1}},beforeUnmount(){document.body.classList.remove("no-scroll")}},u=e=>(w("data-v-5f1d9552"),e=e(),S(),e),R={class:"mobile-nav d-lg-none"},V=u(()=>s("i",{class:"bi bi-list"},null,-1)),j=[V],q={key:0,class:"offcanvas-container"},A={class:"menu-header"},F=u(()=>s("h5",{class:"menu-title"},"Menu",-1)),G=u(()=>s("i",{class:"bi bi-x-lg"},null,-1)),T=[G],z={class:"nav-list"},H={class:"menu-footer"},J=u(()=>s("i",{class:"bi bi-box-arrow-right nav-icon"},null,-1)),Q=u(()=>s("span",null,"Sair",-1)),W=[J,Q];function K(e,o,f,i,t,c){const n=_("router-link");return a(),r("div",R,[s("button",{onClick:o[0]||(o[0]=l=>t.isOpen=!0),class:"btn-menu-toggle"},j),(a(),M(L,{to:"body"},[t.isOpen?(a(),r("div",q,[s("div",{class:"offcanvas-backdrop",onClick:o[1]||(o[1]=l=>t.isOpen=!1)}),s("nav",{class:d(["offcanvas-menu",{"is-open":t.isOpen}])},[s("div",A,[F,s("button",{onClick:o[2]||(o[2]=l=>t.isOpen=!1),class:"btn-close-menu"},T)]),s("ul",z,[(a(!0),r(D,null,y(t.menuItems,(l,C)=>(a(),r("li",{key:l.rota,style:B({animationDelay:`${C*50+100}ms`})},[p(n,{to:{name:l.rota},class:"nav-link","active-class":"active",onClick:o[3]||(o[3]=Ss=>t.isOpen=!1)},{default:h(()=>[s("i",{class:d([l.icon,"nav-icon"])},null,2),s("span",null,v(l.text),1)]),_:2},1032,["to"])],4))),128))]),s("div",H,[s("button",{class:"nav-link logout-btn",onClick:o[4]||(o[4]=(...l)=>c.sair&&c.sair(...l))},W)])],2)])):g("",!0)]))])}const X=m(N,[["render",K],["__scopeId","data-v-5f1d9552"]]),Y={name:"MenuBar",components:{SidebarMobile:X},data(){return{name:I.getName()||"User",isDropdownOpen:!1}},methods:{openMenu(){k.state.isSidebarOpen=!k.state.isSidebarOpen},toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen},closeDropdown(e){this.$refs.profileMenu&&!this.$refs.profileMenu.contains(e.target)&&(this.isDropdownOpen=!1)},logout(){console.log("Usuário deslogado!"),this.isDropdownOpen=!1}},mounted(){document.addEventListener("click",this.closeDropdown)},beforeUnmount(){document.removeEventListener("click",this.closeDropdown)}},b=e=>(w("data-v-fbaf2a4f"),e=e(),S(),e),Z={class:"stylish-header"},ss={class:"header-left"},es=b(()=>s("div",{class:"header-title-wrapper"},[s("i",{class:"bi bi-box-seam-fill header-icon"}),s("span",{class:"header-title"},"Simulações")],-1)),os={class:"profile-menu-wrapper",ref:"profileMenu"},ts=["src"],is={key:0,class:"profile-dropdown"},ns={class:"dropdown-header"},ls={class:"dropdown-list"},as=b(()=>s("li",null,[s("a",{href:"/perfil",class:"dropdown-item"},[s("i",{class:"bi bi-person-circle"}),s("span",null,"Meu Perfil")])],-1)),rs=b(()=>s("i",{class:"bi bi-box-arrow-right"},null,-1)),cs=b(()=>s("span",null,"Sair",-1)),ds=[rs,cs];function us(e,o,f,i,t,c){const n=_("SidebarMobile");return a(),r("header",Z,[s("div",ss,[p(n),es]),s("div",os,[s("button",{class:"profile-btn",onClick:o[0]||(o[0]=(...l)=>c.toggleDropdown&&c.toggleDropdown(...l))},[s("img",{width:"40",height:"40",src:`https://api.dicebear.com/8.x/initials/svg?seed=${t.name}`,alt:"Foto de perfil"},null,8,ts)]),p(E,{name:"dropdown-fade"},{default:h(()=>[t.isDropdownOpen?(a(),r("div",is,[s("div",ns,[s("strong",null,v(t.name),1)]),s("ul",ls,[as,s("li",null,[s("button",{onClick:o[1]||(o[1]=(...l)=>c.logout&&c.logout(...l)),class:"dropdown-item as-button"},ds)])])])):g("",!0)]),_:1})],512)])}const Os=m(Y,[["render",us],["__scopeId","data-v-fbaf2a4f"]]),ps=e=>(w("data-v-9375dd48"),e=e(),S(),e),bs={class:"sidebar-header d-flex w-100 align-items-center p-3"},fs={key:0,class:"fw-bold fs-5 m-0 me-auto"},ms={class:"nav flex-column p-2 flex-grow-1"},_s={class:"sidebar-footer p-2"},hs=ps(()=>s("i",{class:"bi bi-box-arrow-right nav-icon"},null,-1)),vs={class:"ms-3"},gs={data(){return{role:I.getRole()||"dashboard",menuItems:[{text:"Dashboard",icon:"bi bi-grid-1x2-fill",rota:"dashboard"},{text:"Simulações",icon:"bi bi-easel2-fill",rota:"listSimulations"},{text:"Perfil",icon:"bi bi-person-fill",rota:"profile"},{text:"Suporte",icon:"bi bi-question-circle-fill",rota:"support"}]}},computed:{...P({isOpen:e=>e.isSidebarOpen})},methods:{...x(["logout"]),toggleSidebar(){this.$store.commit("TOGGLE_SIDEBAR")},sair(){this.logout(),this.$router.replace({name:"home"})}}},ws=Object.assign(gs,{__name:"SideBar",setup(e){const o=U(),f=i=>i.rota==="listSimulations"?o.path.startsWith("/simulations"):o.name===i.rota;return(i,t)=>{const c=_("router-link");return a(),r("nav",{class:d(["sidebar d-flex flex-column",{"sidebar-closed":!i.isOpen}])},[s("div",bs,[i.isOpen?(a(),r("h3",fs,"Seu Painel")):g("",!0),s("button",{onClick:t[0]||(t[0]=(...n)=>i.toggleSidebar&&i.toggleSidebar(...n)),class:"btn-toggle d-flex align-items-center justify-content-center"},[s("i",{class:d(i.isOpen?"bi bi-chevron-left":"bi bi-chevron-right")},null,2)])]),s("ul",ms,[(a(!0),r(D,null,y(i.menuItems,n=>(a(),r("li",{class:"nav-item",key:n.text},[p(c,{to:{name:n.rota},"active-class":"active-link",class:d(["nav-link d-flex align-items-center",{"active-link":f(n)}])},{default:h(()=>[s("i",{class:d([n.icon,"nav-icon"])},null,2),O(s("span",{class:"ms-3"},v(n.text),513),[[$,i.isOpen]])]),_:2},1032,["to","class"])]))),128))]),s("div",_s,[s("button",{onClick:t[1]||(t[1]=(...n)=>i.sair&&i.sair(...n)),class:"nav-link d-flex align-items-center w-100"},[hs,O(s("span",vs,"Sair",512),[[$,i.isOpen]])])])],2)}}}),$s=m(ws,[["__scopeId","data-v-9375dd48"]]);export{Os as M,$s as S};
