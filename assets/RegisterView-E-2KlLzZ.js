import{_ as h}from"./auth-aEXOG96p.js";import{_ as f,a as _,o as d,c,b as e,w as v,d as n,v as l,i as b,p as g,j as w,f as u,F as C,N as x}from"./index-DeQouS3D.js";import{n as a}from"./notificationService-Bt6ov57u.js";const y={data(){return{user:{name:"",telephone:"",email:"",password:""},passwordConfirmation:"",isLoading:!1}},methods:{validateName(){const s=/^[A-Za-zÀ-ÖØ-öø-ÿ\s]{3,}$/;return!this.user.name||!s.test(this.user.name)?(a.error("Nome inválido. Use apenas letras e no mínimo 3 caracteres."),!1):!0},validateTelephone(){const s=/^\d{10,11}$/;return!this.user.telephone||!s.test(this.user.telephone)?(a.error("Telefone inválido. Deve ter 10 ou 11 dígitos."),!1):!0},validateEmail(){const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!this.user.email||!s.test(this.user.email)?(a.error("O formato do e-mail é inválido."),!1):!0},validatePassword(){return!this.user.password||this.user.password.length<6?(a.error("A senha deve ter no mínimo 6 caracteres."),!1):!0},validatePasswordConfirmation(){return this.user.password!==this.passwordConfirmation?(a.error("As senhas não coincidem."),!1):!0},register(){!this.validateName()||!this.validateTelephone()||!this.validateEmail()||!this.validatePassword()||!this.validatePasswordConfirmation()||(this.isLoading=!0,_.registerUser(this.user).then(()=>{a.success("Usuário criado com sucesso! Por favor, faça login."),this.$router.push({name:"login"})}).catch(s=>{s.response?a.error(s.response.data):a.error("Servidor indisponível. Contate o suporte técnico!")}).finally(()=>{this.isLoading=!1}))}}},i=s=>(g("data-v-7304b955"),s=s(),w(),s),S={class:"register-container"},N={class:"register-card-wrapper"},V={class:"register-card"},U=b('<span class="border-line top" data-v-7304b955></span><span class="border-line right" data-v-7304b955></span><span class="border-line bottom" data-v-7304b955></span><span class="border-line left" data-v-7304b955></span><div class="card-header-custom" data-v-7304b955><h2 class="title-register" data-v-7304b955>Crie sua Conta</h2><p class="subtitle-register" data-v-7304b955>Junte-se a nós e comece a construir o futuro.</p></div>',5),k={class:"input-group"},P=i(()=>e("i",{class:"bi bi-person input-icon"},null,-1)),q=i(()=>e("label",{for:"name",class:"form-label"},"Nome Completo",-1)),I={class:"input-group"},L=i(()=>e("i",{class:"bi bi-telephone input-icon"},null,-1)),R=i(()=>e("label",{for:"telephone",class:"form-label"},"Telefone (só números)",-1)),T={class:"input-group"},j=i(()=>e("i",{class:"bi bi-envelope input-icon"},null,-1)),B=i(()=>e("label",{for:"email",class:"form-label"},"Seu melhor e-mail",-1)),F={class:"input-group"},A=i(()=>e("i",{class:"bi bi-shield-lock input-icon"},null,-1)),E=i(()=>e("label",{for:"password",class:"form-label"},"Crie uma senha forte",-1)),z={class:"input-group"},D=i(()=>e("i",{class:"bi bi-shield-lock-fill input-icon"},null,-1)),M=i(()=>e("label",{for:"passwordConfirmation",class:"form-label"},"Confirme sua senha",-1)),J={class:"button-wrapper"},O=["disabled"],Z={key:0,class:"spinner-border spinner-border-sm",role:"status"},G={key:1};function H(s,o,m,ee,t,p){return d(),c("main",S,[e("div",N,[e("div",V,[U,e("form",{onSubmit:o[5]||(o[5]=v((...r)=>p.register&&p.register(...r),["prevent"])),class:"card-body-custom"},[e("div",k,[P,n(e("input",{id:"name","onUpdate:modelValue":o[0]||(o[0]=r=>t.user.name=r),placeholder:" ",type:"text",required:"",class:"form-control"},null,512),[[l,t.user.name]]),q]),e("div",I,[L,n(e("input",{id:"telephone","onUpdate:modelValue":o[1]||(o[1]=r=>t.user.telephone=r),type:"tel",placeholder:" ",required:"",class:"form-control"},null,512),[[l,t.user.telephone]]),R]),e("div",T,[j,n(e("input",{id:"email","onUpdate:modelValue":o[2]||(o[2]=r=>t.user.email=r),placeholder:" ",type:"email",required:"",class:"form-control"},null,512),[[l,t.user.email]]),B]),e("div",F,[A,n(e("input",{id:"password","onUpdate:modelValue":o[3]||(o[3]=r=>t.user.password=r),type:"password",placeholder:" ",required:"",class:"form-control"},null,512),[[l,t.user.password]]),E]),e("div",z,[D,n(e("input",{id:"passwordConfirmation","onUpdate:modelValue":o[4]||(o[4]=r=>t.passwordConfirmation=r),type:"password",placeholder:" ",required:"",class:"form-control"},null,512),[[l,t.passwordConfirmation]]),M]),e("div",J,[e("button",{type:"submit",class:"btn-register",disabled:t.isLoading},[t.isLoading?(d(),c("span",Z)):(d(),c("span",G,"Finalizar Cadastro"))],8,O)])],32)])])])}const K=f(y,[["render",H],["__scopeId","data-v-7304b955"]]),Q={class:"construction-register-view"},W={class:"container h-100"},X={class:"row h-100 align-items-center justify-content-center"},Y=e("div",{class:"col-lg-6 d-none d-lg-flex flex-column justify-content-center text-left pe-5"},[e("h1",{class:"display-4 fw-bold mb-3"},"Crie Sua Conta e Comece a Construir."),e("p",{class:"lead text-secondary mb-4"}," Preencha seus dados para ter acesso completo à nossa plataforma de gerenciamento de projetos. "),e("img",{src:h,alt:"Ilustração de um engenheiro analisando uma planta de construção",class:"img-fluid",style:{"max-width":"500px"}})],-1),$={class:"col-lg-6 col-md-8 col-sm-12 my-5"},re={__name:"RegisterView",setup(s){return(o,m)=>(d(),c(C,null,[u(x),e("div",Q,[e("div",W,[e("div",X,[Y,e("div",$,[u(K)])])])])],64))}};export{re as default};
