import{_ as y,E as k,a as p,c as n,f as r,b as e,g as u,F as b,G as v,J as f,T as x,h as d,t as _,q as w,r as m,o,p as C,j as B,i as V}from"./index-BTjMFYU1.js";import{M as N,S as I}from"./SideBar-D3tribjM.js";const M={components:{MenuBar:N,SideBar:I},data(){return{simulations:[],loading:!0,currentPage:1,itemsPerPage:6}},computed:{...k({isSidebarOpen:t=>t.isSidebarOpen}),totalPages(){return Math.ceil(this.simulations.length/this.itemsPerPage)},paginatedSimulations(){const t=(this.currentPage-1)*this.itemsPerPage,i=t+this.itemsPerPage;return this.simulations.slice(t,i)}},methods:{async fetchSimulations(){this.loading=!0;try{const t=await p.getSimulations();console.log(t.data),this.simulations=Array.isArray(t.data.content)?t.data.content:[t.data.content]}catch(t){console.error("Falha ao buscar simulações:",t),this.simulations=[]}finally{this.loading=!1}},async handleDelete(t){if(confirm(`Você tem certeza que deseja excluir a simulação "${t}"?`))try{await p.deleteSimulation(t);const i=this.simulations.findIndex(g=>g.id===t);i>-1&&this.simulations.splice(i,1),this.paginatedSimulations.length===0&&this.currentPage>1&&this.currentPage--}catch(i){console.error(`Falha ao excluir a simulação ${t}:`,i),alert("Não foi possível excluir a simulação. Verifique o console para mais detalhes.")}},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},prevPage(){this.currentPage>1&&this.currentPage--}},mounted(){this.fetchSimulations()}},a=t=>(C("data-v-6fd97b4c"),t=t(),B(),t),q={class:"container-fluid d-flex dashboard-view p-0"},D={class:"main-content"},E={class:"list-simulations-view"},F={class:"view-header"},A=a(()=>e("div",{class:"header-title"},[e("i",{class:"bi bi-boxes title-icon"}),e("h1",null,"Minhas Simulações")],-1)),O=a(()=>e("i",{class:"bi bi-plus-lg"},null,-1)),T={key:0,class:"simulations-grid"},j=V('<div class="skeleton-image" data-v-6fd97b4c></div><div class="skeleton-content" data-v-6fd97b4c><div class="skeleton-line title" data-v-6fd97b4c></div><div class="skeleton-line" data-v-6fd97b4c></div><div class="skeleton-line medium" data-v-6fd97b4c></div></div>',2),z=[j],G={key:1},L={key:0,class:"empty-state"},J=a(()=>e("i",{class:"bi bi-box-seam empty-icon"},null,-1)),H=a(()=>e("h2",null,"Nenhuma Simulação Encontrada",-1)),K=a(()=>e("p",null,"Parece que você ainda não criou nenhuma simulação.",-1)),Q={class:"card-image-container"},R=["src"],U={key:1,class:"image-placeholder"},W=a(()=>e("i",{class:"bi bi-image-alt"},null,-1)),X=[W],Y={class:"card-content"},Z={class:"card-body"},$={class:"card-title"},ee={class:"card-description"},te={class:"card-footer"},se={class:"simulation-id"},ae={class:"actions"},ie=a(()=>e("i",{class:"bi bi-eye"},null,-1)),ne=a(()=>e("i",{class:"bi bi-pencil"},null,-1)),oe=["onClick"],le=a(()=>e("i",{class:"bi bi-trash"},null,-1)),ce=[le],re={key:2,class:"pagination-controls"},de=["disabled"],ue=a(()=>e("i",{class:"bi bi-arrow-left"},null,-1)),_e=a(()=>e("span",null,"Anterior",-1)),he=[ue,_e],me={class:"page-info"},ge=["disabled"],pe=a(()=>e("span",null,"Próxima",-1)),be=a(()=>e("i",{class:"bi bi-arrow-right"},null,-1)),ve=[pe,be];function fe(t,i,g,Pe,c,l){const P=m("SideBar"),S=m("MenuBar"),h=m("router-link");return o(),n("div",q,[r(P,{class:"d-none d-lg-block"}),e("div",{class:w(["container-fluid content-wrapper p-0",{"content-wrapper-closed":!t.isSidebarOpen}])},[r(S),e("main",D,[e("div",E,[e("header",F,[A,r(h,{to:{name:"createSimulation"},class:"btn btn-primary"},{default:u(()=>[O,d(" Criar Nova Simulação ")]),_:1})]),c.loading?(o(),n("div",T,[(o(),n(b,null,v(6,s=>e("div",{key:s,class:"skeleton-card"},z)),64))])):(o(),n("div",G,[c.simulations.length===0?(o(),n("div",L,[J,H,K,r(h,{to:{name:"createSimulation"},class:"btn btn-primary mt-3"},{default:u(()=>[d(" Comece a criar agora ")]),_:1})])):f("",!0),r(x,{name:"card-list",tag:"div",class:"simulations-grid"},{default:u(()=>[(o(!0),n(b,null,v(l.paginatedSimulations,s=>(o(),n("div",{key:s.id,class:"simulation-card"},[e("div",Q,[s.image?(o(),n("img",{key:0,src:s.image,alt:"Imagem da simulação",class:"card-image"},null,8,R)):(o(),n("div",U,X))]),e("div",Y,[e("div",Z,[e("h3",$,_(s.name),1),e("p",ee,_(s.description),1)]),e("div",te,[e("span",se,"ID: "+_(s.id),1),e("div",ae,[r(h,{to:{name:"viewSimulation",params:{id:s.id}},class:"btn btn-secondary"},{default:u(()=>[ie,d(" Ver ")]),_:2},1032,["to"]),r(h,{to:{name:"editSimulation",params:{id:s.id}},class:"btn btn-tertiary"},{default:u(()=>[ne,d(" Editar ")]),_:2},1032,["to"]),e("button",{onClick:Se=>l.handleDelete(s.id),class:"btn btn-danger"},ce,8,oe)])])])]))),128))]),_:1})])),!c.loading&&c.simulations.length>0&&l.totalPages>1?(o(),n("div",re,[e("button",{onClick:i[0]||(i[0]=(...s)=>l.prevPage&&l.prevPage(...s)),disabled:c.currentPage===1,class:"btn btn-page"},he,8,de),e("span",me,[d(" Página "),e("strong",null,_(c.currentPage),1),d(" de "),e("strong",null,_(l.totalPages),1)]),e("button",{onClick:i[1]||(i[1]=(...s)=>l.nextPage&&l.nextPage(...s)),disabled:c.currentPage===l.totalPages,class:"btn btn-page"},ve,8,ge)])):f("",!0)])])],2)])}const xe=y(M,[["render",fe],["__scopeId","data-v-6fd97b4c"]]);export{xe as default};
