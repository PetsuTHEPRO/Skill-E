import{_ as b}from"./login-construction-BDiwROlJ.js";import{m as f,a as v,_ as g,r as w,o as r,c,b as e,w as x,d,v as _,e as k,f as m,g as y,h as L,i as S,p as V,j as C,F as j,N as B}from"./index-BDzdol2L.js";import{n as p}from"./notificationService-DKRCb6sO.js";const M={data(){return{user:{email:"",password:""},rememberMe:!1,isLoading:!1}},methods:{...f(["login"]),entrar(){this.isLoading||(this.isLoading=!0,v.loginUser(this.user).then(s=>{const{token:o,email:l,telephone:u,name:t,id:n}=s.data;this.login({token:o,email:l,telephone:u,name:t,id:n}),p.success("Acesso liberado. Bem-vindo de volta!"),this.$router.push({name:"dashboard"})}).catch(s=>{s.response&&s.response.data?p.error(s.response.data):p.error("Servidor indisponível. Contate o suporte técnico.")}).finally(()=>{this.isLoading=!1}))}}},i=s=>(V("data-v-e7910cc8"),s=s(),C(),s),N={class:"login-container"},I={class:"login-card-wrapper"},q={class:"login-card"},A=S('<span class="border-line top" data-v-e7910cc8></span><span class="border-line right" data-v-e7910cc8></span><span class="border-line bottom" data-v-e7910cc8></span><span class="border-line left" data-v-e7910cc8></span><div class="card-header-custom" data-v-e7910cc8><h2 class="title-login" data-v-e7910cc8>Acesse sua Conta</h2><p class="subtitle-login" data-v-e7910cc8>Bem-vindo de volta! Gerencie seus projetos.</p></div>',5),E={class:"input-group"},U=i(()=>e("i",{class:"bi bi-envelope input-icon"},null,-1)),F=i(()=>e("label",{for:"email",class:"form-label"},"E-mail de trabalho",-1)),P={class:"input-group"},T=i(()=>e("i",{class:"bi bi-shield-lock input-icon"},null,-1)),D=i(()=>e("label",{for:"password",class:"form-label"},"Sua senha de acesso",-1)),G={class:"options-wrapper"},O={class:"form-check"},z=i(()=>e("label",{for:"remember-me",class:"form-check-label"},"Lembrar-me",-1)),H={class:"button-wrapper"},J=["disabled"],K={key:0,class:"spinner-border spinner-border-sm",role:"status"},Q={key:1};function R(s,o,l,u,t,n){const h=w("router-link");return r(),c("main",N,[e("div",I,[e("div",q,[A,e("form",{onSubmit:o[3]||(o[3]=x((...a)=>n.entrar&&n.entrar(...a),["prevent"])),class:"card-body-custom"},[e("div",E,[U,d(e("input",{id:"email","onUpdate:modelValue":o[0]||(o[0]=a=>t.user.email=a),placeholder:" ",type:"email",required:"",class:"form-control"},null,512),[[_,t.user.email]]),F]),e("div",P,[T,d(e("input",{id:"password","onUpdate:modelValue":o[1]||(o[1]=a=>t.user.password=a),type:"password",placeholder:" ",autocomplete:"current-password",required:"",class:"form-control"},null,512),[[_,t.user.password]]),D]),e("div",G,[e("div",O,[d(e("input",{id:"remember-me","onUpdate:modelValue":o[2]||(o[2]=a=>t.rememberMe=a),type:"checkbox",class:"form-check-input"},null,512),[[k,t.rememberMe]]),z]),m(h,{to:"#",class:"link-forgot-password"},{default:y(()=>[L("Esqueceu a senha?")]),_:1})]),e("div",H,[e("button",{type:"submit",class:"btn-login",disabled:t.isLoading},[t.isLoading?(r(),c("span",K)):(r(),c("span",Q,"Entrar na Obra"))],8,J)])],32)])])])}const W=g(M,[["render",R],["__scopeId","data-v-e7910cc8"]]),X={class:"construction-login-view"},Y={class:"container h-100"},Z={class:"row h-100 align-items-center justify-content-center"},$=e("div",{class:"col-lg-6 d-none d-lg-flex flex-column justify-content-center text-left pe-5 mt-5"},[e("h1",{class:"display-4 fw-bold mb-3"},"Construindo o Futuro, Projeto a Projeto."),e("p",{class:"lead text-secondary mb-4"}," Acesse o portal para gerenciar suas obras, equipes e cronogramas com eficiência. "),e("img",{src:b,alt:"Ilustração de um engenheiro analisando uma planta de construção",class:"img-fluid",style:{"max-width":"500px"}})],-1),ee={class:"col-lg-6 col-md-8 col-sm-12"},ae={__name:"LoginView",setup(s){return(o,l)=>(r(),c(j,null,[m(B),e("div",X,[e("div",Y,[e("div",Z,[$,e("div",ee,[m(W)])])])])],64))}};export{ae as default};
